import{Y as w,h as f,G as _,V as C,S as B,r as E}from"./researcherService-DunJD6IL.js";import{d as z,r as x,l as V,m as j,o as a,w as d,e as c,u as i,b as e,a as o,g as n,i as y,t as r,F as M,k as N}from"./app-CAyZZdkS.js";const S={class:"fixed inset-0 z-10 overflow-y-auto"},$={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},D={class:"sm:flex sm:items-start"},L={class:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},F={class:"mt-2"},G={class:"text-sm text-gray-600 dark:text-gray-300"},H={class:"font-semibold text-gray-900 dark:text-white"},Y={key:0,class:"mt-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-xl p-4 border border-gray-200 dark:border-gray-600"},q={class:"text-sm"},A={class:"font-semibold text-gray-900 dark:text-white text-base"},I={class:"text-gray-600 dark:text-gray-300 font-mono mt-1 bg-white dark:bg-gray-800 px-2 py-1 rounded text-xs inline-block"},P={key:0,class:"text-gray-600 dark:text-gray-300 mt-2"},T={key:1,class:"mt-3"},J={class:"flex flex-wrap gap-1"},K={key:0,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-200 text-gray-700 dark:bg-gray-600 dark:text-gray-300"},O={key:0,class:"mt-4 bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-700 rounded-md p-3"},Q={class:"flex"},R={class:"ml-3"},U={class:"mt-1 text-sm text-red-700 dark:text-red-300"},W={class:"mt-6 sm:mt-4 sm:flex sm:flex-row-reverse sm:gap-3"},X=["disabled"],Z={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},ee=["disabled"],re=z({__name:"DeleteModal",props:{show:{type:Boolean},researcher:{}},emits:["close","deleted"],setup(h,{emit:p}){const g=h,v=p,l=x(!1),m=x({}),k=()=>{m.value={}},b=async()=>{if(g.researcher){l.value=!0,m.value={};try{await E.delete(g.researcher.orcid),v("deleted")}catch(s){m.value.general=s.message}finally{l.value=!1}}};return V(()=>g.show,s=>{s&&k()}),(s,t)=>(a(),j(i(B),{show:s.show,as:"template"},{default:d(()=>[c(i(w),{as:"div",class:"relative z-50",onClose:t[1]||(t[1]=u=>s.$emit("close"))},{default:d(()=>[c(i(f),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:d(()=>t[2]||(t[2]=[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)])),_:1,__:[2]}),e("div",S,[e("div",$,[c(i(f),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:d(()=>[c(i(_),{class:"relative transform overflow-hidden rounded-xl bg-white px-4 pb-4 pt-5 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6 dark:bg-gray-800"},{default:d(()=>[e("div",D,[t[7]||(t[7]=e("div",{class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-r from-red-100 to-red-200 dark:from-red-800 dark:to-red-700 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-red-600 dark:text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])],-1)),e("div",L,[c(i(C),{as:"h3",class:"text-lg font-semibold leading-6 text-gray-900 dark:text-white"},{default:d(()=>t[3]||(t[3]=[y(" Eliminar Investigador ",-1)])),_:1,__:[3]}),e("div",F,[e("p",G,[t[4]||(t[4]=y(" ¿Estás seguro de que deseas eliminar al investigador ",-1)),e("span",H,r(s.researcher?.given_names)+" "+r(s.researcher?.family_name),1),t[5]||(t[5]=y("? Esta acción no se puede deshacer y se perderán todos los datos asociados. ",-1))])]),s.researcher?(a(),o("div",Y,[e("div",q,[e("div",A,r(s.researcher.given_names)+" "+r(s.researcher.family_name),1),e("div",I,r(s.researcher.orcid),1),s.researcher.primary_email?(a(),o("div",P,"📧 "+r(s.researcher.primary_email),1)):n("",!0),s.researcher.keywords.length>0?(a(),o("div",T,[t[6]||(t[6]=e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Palabras clave:",-1)),e("div",J,[(a(!0),o(M,null,N(s.researcher.keywords.slice(0,3),u=>(a(),o("span",{key:u,class:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-200"},r(u),1))),128)),s.researcher.keywords.length>3?(a(),o("span",K," +"+r(s.researcher.keywords.length-3)+" más ",1)):n("",!0)])])):n("",!0)])])):n("",!0)])]),m.value.general?(a(),o("div",O,[e("div",Q,[t[9]||(t[9]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400 dark:text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",R,[t[8]||(t[8]=e("h3",{class:"text-sm font-medium text-red-800 dark:text-red-200"},"Error",-1)),e("div",U,r(m.value.general),1)])])])):n("",!0),e("div",W,[e("button",{type:"button",onClick:b,disabled:l.value,class:"inline-flex w-full justify-center rounded-lg bg-gradient-to-r from-red-600 to-red-700 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:from-red-700 hover:to-red-800 disabled:opacity-50 disabled:cursor-not-allowed sm:w-auto transition-all duration-200"},[l.value?(a(),o("svg",Z,t[10]||(t[10]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):n("",!0),y(" "+r(l.value?"Eliminando...":"Confirmar Eliminación"),1)],8,X),e("button",{type:"button",onClick:t[0]||(t[0]=u=>s.$emit("close")),disabled:l.value,class:"mt-3 inline-flex w-full justify-center rounded-lg bg-white px-4 py-3 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed sm:mt-0 sm:w-auto transition-colors duration-200"}," Cancelar ",8,ee)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}});export{re as _};
