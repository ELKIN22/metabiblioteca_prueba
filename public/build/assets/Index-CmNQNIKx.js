import{r as T}from"./researcherService-DunJD6IL.js";import{_ as P}from"./CreateModal.vue_vue_type_script_setup_true_lang-s1dwDrr5.js";import{_ as R}from"./EditModal.vue_vue_type_script_setup_true_lang-XX95eJHc.js";import{_ as U}from"./DeleteModal.vue_vue_type_script_setup_true_lang-C6io0lgu.js";import{d as F,r as u,f as G,a as r,o as n,b as e,e as C,g as M,i as c,j as L,t as i,F as f,k as j,n as x}from"./app-CAyZZdkS.js";const O={class:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},J={key:0,class:"flex justify-center py-16"},K={key:1,class:"bg-red-50 border-l-4 border-red-400 p-6 rounded-lg shadow-sm"},Q={class:"flex"},W={class:"ml-3"},X={class:"mt-2 text-base text-red-700"},Y={class:"mt-4"},Z={key:2},ee={key:0,class:"text-center py-16 bg-white rounded-xl shadow-sm"},te={key:1,class:"bg-white shadow-xl rounded-xl overflow-hidden"},se={class:"overflow-x-auto"},oe={class:"min-w-full divide-y divide-gray-200"},le={class:"bg-white divide-y divide-gray-100"},re={class:"px-6 py-5 whitespace-nowrap"},ne={class:"flex items-center"},ae={class:"flex-shrink-0 h-10 w-10"},ie={class:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center"},de={class:"text-sm font-medium text-white"},ue={class:"ml-4"},ce={class:"text-base font-semibold text-gray-900"},me={class:"px-6 py-5 whitespace-nowrap"},ve={class:"text-sm text-gray-900 font-mono bg-gray-50 px-2 py-1 rounded"},pe={class:"px-6 py-5 whitespace-nowrap"},xe={class:"text-sm text-gray-900"},ge={class:"px-6 py-5"},fe={class:"flex flex-wrap gap-1"},he={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},be={class:"px-6 py-5 whitespace-nowrap text-right text-sm font-medium"},ye={class:"flex justify-end space-x-2"},we=["onClick"],_e=["onClick"],ke={key:0,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},Ce={class:"flex items-center justify-between"},Me={class:"flex-1 flex justify-between sm:hidden"},je=["disabled"],ze=["disabled"],Be={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Ae={class:"text-sm text-gray-700"},He={class:"font-medium"},Ee={class:"font-medium"},Le={class:"font-medium"},Ne={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},$e=["disabled"],Ie=["onClick"],Ve={key:1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700"},De=["disabled"],Se={class:"p-4"},Te={class:"flex items-start"},Pe={class:"flex-shrink-0"},Re={key:0,class:"h-5 w-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ue={key:1,class:"h-5 w-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Fe={class:"ml-3 w-0 flex-1 pt-0.5"},Ge={class:"ml-4 flex-shrink-0 flex"},Xe=F({__name:"Index",setup(Oe){const h=u(!1),g=u(""),b=u([]),l=u({current_page:1,last_page:1,per_page:2,total:0,from:0,to:0,prev:null,next:null}),y=u(!1),w=u(!1),_=u(!1),m=u(null),d=u({show:!1,message:"",type:"success"}),v=async(a=1)=>{h.value=!0,g.value="";try{const t=await T.getAll(a);t.data&&(b.value=t.data.data,l.value={...t.data.pagination,prev:t.data.links.prev,next:t.data.links.next})}catch(t){g.value=t.message||"Error al cargar los investigadores"}finally{h.value=!1}},p=a=>{a>=1&&a<=l.value.last_page&&v(a)},N=()=>{const a=l.value.current_page,t=l.value.last_page,s=[];if(t<=7)for(let o=1;o<=t;o++)s.push(o);else if(a<=4){for(let o=1;o<=5;o++)s.push(o);s.push("..."),s.push(t)}else if(a>=t-3){s.push(1),s.push("...");for(let o=t-4;o<=t;o++)s.push(o)}else{s.push(1),s.push("...");for(let o=a-1;o<=a+1;o++)s.push(o);s.push("..."),s.push(t)}return s},z=()=>{y.value=!0},B=()=>{y.value=!1},$=a=>{m.value=a,w.value=!0},A=()=>{w.value=!1,m.value=null},I=a=>{m.value=a,_.value=!0},H=()=>{_.value=!1,m.value=null},V=()=>{B(),v(1),k("Investigador creado exitosamente","success")},D=()=>{A(),v(l.value.current_page),k("Investigador actualizado exitosamente","success")},S=()=>{H(),v(l.value.current_page),k("Investigador eliminado exitosamente","success")},k=(a,t="success")=>{d.value={show:!0,message:a,type:t},setTimeout(E,4e3)},E=()=>{d.value.show=!1};return G(()=>{v()}),(a,t)=>(n(),r("div",O,[e("div",q,[e("div",{class:"md:flex md:items-center md:justify-between mb-8"},[t[6]||(t[6]=e("div",{class:"flex-1 min-w-0"},[e("h1",{class:"text-3xl font-bold text-gray-900 sm:text-4xl"}," Gestión de Investigadores "),e("p",{class:"mt-2 text-lg text-gray-600"}," Administra todos los investigadores registrados en el sistema ")],-1)),e("div",{class:"mt-6 flex md:mt-0 md:ml-4"},[e("button",{onClick:z,class:"inline-flex items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 transform hover:scale-105"},t[5]||(t[5]=[e("svg",{class:"-ml-1 mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),c(" Nuevo Investigador ",-1)]))])]),h.value?(n(),r("div",J,t[7]||(t[7]=[L('<div class="text-center"><div class="inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-white bg-blue-500 transition ease-in-out duration-150"><svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Cargando investigadores... </div></div>',1)]))):g.value?(n(),r("div",K,[e("div",Q,[t[10]||(t[10]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",W,[t[9]||(t[9]=e("h3",{class:"text-lg font-medium text-red-800"},"Error al cargar los datos",-1)),e("div",X,i(g.value),1),e("div",Y,[e("button",{onClick:t[0]||(t[0]=()=>v()),class:"inline-flex items-center px-4 py-2 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors duration-200"},t[8]||(t[8]=[e("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),c(" Reintentar ",-1)]))])])])])):(n(),r("div",Z,[b.value.length===0?(n(),r("div",ee,[t[12]||(t[12]=L('<div class="mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6"><svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div><h3 class="text-xl font-semibold text-gray-900 mb-2">No hay investigadores registrados</h3><p class="text-gray-500 mb-8 max-w-md mx-auto"> Comienza agregando tu primer investigador para empezar a gestionar la información académica. </p>',3)),e("button",{onClick:z,class:"inline-flex items-center px-6 py-3 border border-transparent shadow-sm text-base font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200"},t[11]||(t[11]=[e("svg",{class:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),c(" Agregar primer investigador ",-1)]))])):(n(),r("div",te,[e("div",se,[e("table",oe,[t[15]||(t[15]=e("thead",{class:"bg-gradient-to-r from-gray-50 to-gray-100"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Investigador "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," ORCID "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Email "),e("th",{scope:"col",class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Palabras Clave "),e("th",{scope:"col",class:"relative px-6 py-4"},[e("span",{class:"sr-only"},"Acciones")])])],-1)),e("tbody",le,[(n(!0),r(f,null,j(b.value,s=>(n(),r("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors duration-150"},[e("td",re,[e("div",ne,[e("div",ae,[e("div",ie,[e("span",de,i((s.given_names.charAt(0)+s.family_name.charAt(0)).toUpperCase()),1)])]),e("div",ue,[e("div",ce,i(s.given_names)+" "+i(s.family_name),1)])])]),e("td",me,[e("div",ve,i(s.orcid),1)]),e("td",pe,[e("div",xe,i(s.primary_email||"N/A"),1)]),e("td",ge,[e("div",fe,[(n(!0),r(f,null,j(s.keywords.slice(0,3),o=>(n(),r("span",{key:o,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800"},i(o),1))),128)),s.keywords.length>3?(n(),r("span",he," +"+i(s.keywords.length-3),1)):M("",!0)])]),e("td",be,[e("div",ye,[e("button",{onClick:o=>$(s),class:"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-50 transition-colors duration-150",title:"Editar"},t[13]||(t[13]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,we),e("button",{onClick:o=>I(s),class:"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-50 transition-colors duration-150",title:"Eliminar"},t[14]||(t[14]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,_e)])])]))),128))])])]),l.value.total>0?(n(),r("div",ke,[e("div",Ce,[e("div",Me,[e("button",{onClick:t[1]||(t[1]=s=>p(l.value.current_page-1)),disabled:!l.value.prev,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Anterior ",8,je),e("button",{onClick:t[2]||(t[2]=s=>p(l.value.current_page+1)),disabled:!l.value.next,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Siguiente ",8,ze)]),e("div",Be,[e("div",null,[e("p",Ae,[t[16]||(t[16]=c(" Mostrando ",-1)),e("span",He,i(l.value.from),1),t[17]||(t[17]=c(" a ",-1)),e("span",Ee,i(l.value.to),1),t[18]||(t[18]=c(" de ",-1)),e("span",Le,i(l.value.total),1),t[19]||(t[19]=c(" resultados ",-1))])]),e("div",null,[e("nav",Ne,[e("button",{onClick:t[3]||(t[3]=s=>p(l.value.current_page-1)),disabled:!l.value.prev,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},t[20]||(t[20]=[e("span",{class:"sr-only"},"Anterior",-1),e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,$e),(n(!0),r(f,null,j(N(),s=>(n(),r(f,{key:s},[s!=="..."?(n(),r("button",{key:0,onClick:()=>p(Number(s)),class:x([s===l.value.current_page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"])},i(s),11,Ie)):(n(),r("span",Ve," ... "))],64))),128)),e("button",{onClick:t[4]||(t[4]=s=>p(l.value.current_page+1)),disabled:!l.value.next,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},t[21]||(t[21]=[e("span",{class:"sr-only"},"Siguiente",-1),e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,De)])])])])])):M("",!0)]))])),C(P,{show:y.value,onClose:B,onCreated:V},null,8,["show"]),C(R,{show:w.value,researcher:m.value,onClose:A,onUpdated:D},null,8,["show","researcher"]),C(U,{show:_.value,researcher:m.value,onClose:H,onDeleted:S},null,8,["show","researcher"]),d.value.show?(n(),r("div",{key:3,class:x(["fixed top-4 right-4 z-50 max-w-sm w-full shadow-lg rounded-xl pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden transition-all duration-300 transform",d.value.show?"translate-x-0 scale-100":"translate-x-full scale-95",d.value.type==="success"?"bg-gradient-to-r from-green-50 to-emerald-50":"bg-gradient-to-r from-red-50 to-pink-50"])},[e("div",Se,[e("div",Te,[e("div",Pe,[e("div",{class:x(["w-8 h-8 rounded-full flex items-center justify-center",d.value.type==="success"?"bg-green-100":"bg-red-100"])},[d.value.type==="success"?(n(),r("svg",Re,t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):(n(),r("svg",Ue,t[23]||(t[23]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))],2)]),e("div",Fe,[e("p",{class:x(["text-sm font-medium",d.value.type==="success"?"text-green-900":"text-red-900"])},i(d.value.message),3)]),e("div",Ge,[e("button",{onClick:E,class:x(["rounded-md inline-flex focus:outline-none focus:ring-2 focus:ring-offset-2 p-1",d.value.type==="success"?"text-green-400 hover:text-green-500 focus:ring-green-500":"text-red-400 hover:text-red-500 focus:ring-red-500"])},t[24]||(t[24]=[e("span",{class:"sr-only"},"Cerrar",-1),e("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),2)])])])],2)):M("",!0)])]))}});export{Xe as default};
